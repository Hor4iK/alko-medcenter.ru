//CONTAINERS
@mixin box($bg-color, $color, $radius: 12px, $padding: 20px) {
  background-color: $bg-color;
  color: $color;
  border-radius: $radius;

  @if $padding ==20px {
    padding: clamp(1rem, 0.65rem + 0.8vw, 1.25rem);
  } @else if $padding ==30px {
    padding: clamp(1rem, -0.225rem + 2.8vw, 1.875rem);
  } @else {
    padding: $padding;
  }
}

.box_accent {
  @include box($color-accent, $color-white, 16px, 30px);
}

.box_accent-light {
  @include box(#f7f0ec, $color-black, 16px, 30px);
}

.box_light {
  @include box($color-white, $color-black, 16px, 24px);
}

.box_light_b {
  @extend .box_light;
  border: 1px solid $color-accent-op-50;
}

.box_light-20 {
  @include box(rgb(255, 255, 255, 0.2), $color-white, 10px, 12px);
}

.box_accent-op-10 {
  @include box($color-accent-op-10, $color-black);
}

.box_accent-op-50 {
  @include box($color-accent-op-50, $color-black);
}

.box_peach {
  @include box(
    $bg-peach-dusty,
    $color-black,
    16px,
    clamp(1rem, 0.125rem + 2.2857vw, 2rem)
  );
}

@mixin container($margin-bl: 0) {
  max-width: $max-width;
  width: 100%;
  margin: 0 auto;

  @if $margin-bl !=0 {
    @if $margin-bl == "block" {
      margin-block: clamp(2rem, -3.95rem + 13.6vw, 6.25rem);
    } @else if $margin-bl == "top" {
      margin-block-start: clamp(2rem, -3.95rem + 13.6vw, 6.25rem);
    } @else if $margin-bl == "bottom" {
      margin-block-end: clamp(2rem, -3.95rem + 13.6vw, 6.25rem);
    } @else {
      margin-block: $margin-bl;
    }
  }
}

.container {
  @include container();
}
//END CONTAINERS

//BUTTONS
.button {
  padding: 20px 5px;
  font-size: $font-size;
  font-weight: 600;
  line-height: 1;
  transition: background-color 300ms ease-out, color 300ms ease-out,
    outline 300ms ease-out;
  background-color: $color-white;
  color: $color-accent;
  border-radius: 12px;
  outline: 1px solid transparent;

  &:not(:disabled):hover,
  &:not(:disabled):active {
    background-color: $color-accent;
    color: $color-white;
    outline: 1px solid $color-white;
  }

  &:disabled {
    opacity: 0.5;
  }

  &_accent {
    background-color: $color-accent;
    color: $color-white;

    &:not(:disabled):hover,
    &:not(:disabled):active {
      background-color: $color-accent-contrast;
      color: $color-white;

      svg path {
        fill: $color-white;
      }
    }

    &:disabled {
      opacity: 0.5;
    }

    &_light {
      background-color: $color-accent-op-10;
      color: $color-accent;

      &:not(:disabled):hover,
      &:not(:disabled):active {
        background-color: $color-accent;
        color: $color-white;

        svg path {
          fill: $color-white;
        }
      }

      &:disabled {
        color: $color-accent-op-50;
      }
    }
  }

  &_light {
    background-color: $color-white;
    color: $color-accent;

    &:not(:disabled):hover,
    &:not(:disabled):active {
      background-color: $color-accent-contrast;
      color: $color-white;

      svg path {
        fill: $color-white;
      }
    }

    &:disabled {
      opacity: 0.5;
    }
  }

  &_icon {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;

    svg {
      max-width: 18px;

      path {
        transition: all 300ms ease-out;
      }
    }
  }
}
//END BUTTONS

@mixin point-mark-psevdo {
  content: "";
  position: absolute;
  left: calc(50% - 10px);
  top: calc(50% - 10px);
  background-position: center center;
  background-repeat: no-repeat;
  width: 20px;
  aspect-ratio: 1/1;
}

//POINT-MARK
.point-mark {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px;
  border-radius: 8px;
  aspect-ratio: 1/1;
  width: fit-content;
  background-color: $color-accent-op-10;
  transition: 300ms ease-out;
  outline: 1px solid transparent;

  &_trans {
    background-color: transparent;
  }

  &_light {
    background-color: $color-white;
    border: 1px solid $color-accent-op-50;
  }

  &_accent {
    background-color: $color-accent;

    svg {
      path {
        fill: $color-white;
      }
    }
  }

  &_grey {
    background-color: $bg-grey;
    color: $color-black;

    &:disabled {
      &::before {
        opacity: 0.5;
      }
    }
  }

  &_arrow {
    &::before {
      content: "";
      background-image: url(../img/icons/arrow.svg);
      background-repeat: no-repeat;
      background-position: center center;
      background-size: contain;
      display: block;
      width: 16px;
      height: 12px;
    }

    &_right {
      &::before {
        rotate: 180deg;
      }
    }
  }

  &_40 {
    width: 40px;
  }

  &_50 {
    width: clamp(2.5rem, 1.7188rem + 2.5vw, 3.125rem);
  }

  &_56 {
    width: clamp(3.125rem, 2.6rem + 1.2vw, 3.5rem);
  }

  &_60 {
    width: clamp(3.125rem, 2.25rem + 2vw, 3.75rem);
  }

  &_66 {
    width: clamp(2.5rem, 0.875rem + 3.7143vw, 4.125rem);
  }
}

//Изменение состояния для ссылок и кнопок
a.point-mark,
button.point-mark {
  outline: 1px solid transparent;

  svg {
    transition: transform 200ms ease-out;
  }

  &:not(:disabled):hover,
  &:not(:disabled):active {
    outline: 1px solid $color-accent;

    svg {
      transform: scale(1.15);
    }
  }

  &_light {
    &:not(:disabled):hover,
    &:not(:disabled):active {
      outline: 2px solid $color-light-grey;
    }
  }
}
//END POINT-MARK
